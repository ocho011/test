# Task ID: 6
# Title: 리스크 관리 시스템 구현
# Status: done
# Dependencies: 5
# Priority: high
# Description: 포지션 크기 계산, 손실 한도 관리 및 드로우다운 제어 시스템 구축
# Details:
RiskManager 클래스로 종합적 위험 관리. PositionSizeCalculator: 계좌 잔고의 2% 위험 기준 포지션 크기 계산. DrawdownController: 일일 5%, 월간 15% 드로우다운 제한. ConsecutiveLossTracker: 3회 연속 손실 시 거래 중단. VolatilityFilter: ATR 기반 비정상 변동성 감지. 일일 최대 5회 거래 제한. Kelly Criterion 적용 옵션. 실시간 위험 지표 모니터링.

# Test Strategy:
포지션 크기 계산 정확성 테스트, 드로우다운 제한 시뮬레이션, 연속 손실 제어 검증

# Subtasks:
## 1. PositionSizeCalculator 구현 [done]
### Dependencies: None
### Description: 계좌 잔고의 2% 위험 기준으로 포지션 크기를 계산하는 모듈 개발
### Details:
계좌 잔고 대비 2% 위험 한도 기준 포지션 크기 계산 로직 구현. Kelly Criterion 적용 옵션 포함. 스탑로스 거리와 위험 허용도를 고려한 정확한 포지션 사이즈 산출

## 2. DrawdownController 구현 [done]
### Dependencies: None
### Description: 일일 5%, 월간 15% 드로우다운 제한을 관리하는 제어 시스템 구축
### Details:
실시간 드로우다운 모니터링 및 제한 적용. 일일/월간 손실 한도 도달 시 자동 거래 중단. 드로우다운 계산 및 복구 추적 기능

## 3. ConsecutiveLossTracker 구현 [done]
### Dependencies: None
### Description: 연속 손실 관리 및 3회 연속 손실 시 거래 중단 시스템 개발
### Details:
연속 손실 거래 추적 및 카운팅. 3회 연속 손실 도달 시 자동 거래 중단 로직. 손실 패턴 분석 및 복구 조건 설정

## 4. VolatilityFilter 구현 [done]
### Dependencies: None
### Description: ATR 기반 변동성 필터링 및 비정상 시장 상황 감지 시스템 구축
### Details:
ATR(Average True Range) 기반 변동성 측정. 비정상적 변동성 감지 시 거래 제한. 일일 최대 5회 거래 제한 로직 포함

## 5. RiskManager 통합 및 실시간 모니터링 [done]
### Dependencies: 6.1, 6.2, 6.3, 6.4
### Description: 모든 리스크 관리 컴포넌트를 통합하고 실시간 위험 지표 모니터링 시스템 구현
### Details:
RiskManager 클래스로 모든 리스크 컴포넌트 통합. 실시간 위험 지표 계산 및 모니터링. 위험 이벤트 발생 시 즉시 알림 및 대응 시스템

